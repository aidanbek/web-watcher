<?php

namespace Ditcher;

use Goutte\Client;
use Symfony\Component\DomCrawler\Crawler;

class Test
{
    public function test()
    {
//        $url = 'https://epayment.kz/ru/docs';
//        $parsed = parse_url($url);
//
//        $path = $parsed['path'];
//        $host = $parsed['host'];
//
//        dd((new Client())
//               ->request('GET', $url)->html()
//        );
//
//        return (new Client())
//            ->request('GET', $url)
//            ->filter('a[href^="' . $path . '"]:not([href="' . $path . '"]),a[href^="' . $url . '"]:not([href="' . $url . '"])')
//            ->each(function (/** @var Crawler $node */ $node) {
//                return [
//                    'text' => $node->text(),
//                    'href' => $node->attr('href'),
//                    'html' => (new Client())->click($node->link())->html()
//                ];
//            });
    }
}